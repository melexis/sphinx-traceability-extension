

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Configuration &mdash; Traceability 9.3.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.rawgit.com/aexmachina/jquery-bonsai/master/jquery.bonsai.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/extra.css" type="text/css" />
  <link rel="stylesheet" href="_static/hyperlink_colors.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="https://cdn.rawgit.com/aexmachina/jquery-bonsai/master/jquery.bonsai.js"></script>
        <script src="_static/traceability.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Usage" href="usage.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Traceability
          

          
          </a>

          
            
            
              <div class="version">
                9.3.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="readme.html">Sphinx Traceability plugin</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="goal.html">Goal</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#valid-attributes">Valid attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stringification-of-attributes">Stringification of attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#valid-relationships">Valid relationships</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stringification-of-relationships">Stringification of relationships</a></li>
<li class="toctree-l3"><a class="reference internal" href="#external-relationship-to-url-translation">External relationship to URL translation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rendering-of-relationships-per-documentation-object">Rendering of relationships per documentation object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rendering-of-attributes-per-documentation-object">Rendering of attributes per documentation object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ability-to-collapse-the-list-of-relationships-and-attributes-per-documentation-object">Ability to collapse the list of relationships and attributes per documentation object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#no-captions">No captions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#no-captions-for-item">No captions for item</a></li>
<li class="toctree-l4"><a class="reference internal" href="#no-captions-for-item-list">No captions for item-list</a></li>
<li class="toctree-l4"><a class="reference internal" href="#no-captions-for-item-matrix">No captions for item-matrix</a></li>
<li class="toctree-l4"><a class="reference internal" href="#no-captions-for-item-attributes-matrix">No captions for item-attributes-matrix</a></li>
<li class="toctree-l4"><a class="reference internal" href="#no-captions-for-item-tree">No captions for item-tree</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#export">Export</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#export-to-json">Export to JSON</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#callback-per-item-advanced">Callback per item (advanced)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#callback-to-modify-item">Callback to modify item</a></li>
<li class="toctree-l4"><a class="reference internal" href="#callback-to-inspect-item">Callback to inspect item</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-of-requiring-certain-attributes-on-an-item">Example of requiring certain attributes on an item</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#custom-colors-for-linked-items">Custom colors for linked items</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mapping-of-undefined-references">Mapping of undefined references</a></li>
<li class="toctree-l3"><a class="reference internal" href="#default-config">Default config</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html">Contribution Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#reporting-issues-or-requesting-a-new-feature">Reporting Issues or Requesting a New Feature</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#process">Process</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="example_usage.html">Example usage</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Traceability</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="readme.html">Sphinx Traceability plugin</a> &raquo;</li>
        
      <li>Configuration</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/configuration.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="configuration">
<span id="traceability-config"></span><h1>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading">¶</a></h1>
<p>The <em>conf.py</em> file contains the documentation configuration for your project. This file needs to be equipped in order
to configure the traceability plugin.</p>
<p>First the plugin needs to be enabled in the <em>extensions</em> variable:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">extensions</span> <span class="o">=</span> <span class="o">[</span>
    <span class="s1">&#39;mlx.traceability&#39;</span>,
    ...
<span class="o">]</span>
</pre></div>
</div>
<p>Second the path to the static javascript assets needs to be added to the sphinx <code class="docutils literal notranslate"><span class="pre">html_static_path</span></code>
variable.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>import os
import mlx.traceability

<span class="nv">html_static_path</span> <span class="o">=</span> <span class="o">[</span>os.path.join<span class="o">(</span>os.path.dirname<span class="o">(</span>mlx.traceability.__file__<span class="o">)</span>, <span class="s1">&#39;assets&#39;</span><span class="o">)]</span>
</pre></div>
</div>
<div class="section" id="valid-attributes">
<span id="traceability-config-attributes"></span><h2>Valid attributes<a class="headerlink" href="#valid-attributes" title="Permalink to this heading">¶</a></h2>
<p>Python variable <em>traceability_attributes</em> can be defined in order to override the
default configuration of the traceability plugin.
It is a <em>dictionary</em> of attribute pairs: the <em>key</em> is the name of the attribute (can only be lowercase),
while the <em>value</em> holds the regular expression to which the attribute-value should comply.</p>
<p>Example of attributes and their regular expression:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">traceability_attributes</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;^.*$&#39;</span><span class="p">,</span>
    <span class="s1">&#39;asil&#39;</span><span class="p">:</span> <span class="s1">&#39;^(QM|[ABCD])$&#39;</span><span class="p">,</span>
    <span class="s1">&#39;non_functional&#39;</span><span class="p">:</span> <span class="s1">&#39;^.</span><span class="si">{0}</span><span class="s1">$&#39;</span><span class="p">,</span>  <span class="c1"># empty string</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="stringification-of-attributes">
<span id="traceability-config-attribute2string"></span><h2>Stringification of attributes<a class="headerlink" href="#stringification-of-attributes" title="Permalink to this heading">¶</a></h2>
<p>Python variable <em>traceability_attribute_to_string</em> can be defined in order to override the
default configuration of the traceability plugin.
It is a <em>dictionary</em> of attribute stringifications: the <em>key</em> is the name of the attribute, while
the <em>value</em> holds the string representation (as to be rendered in html) of the attribute name.</p>
<p>Example of attribute stringification:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">traceability_relationship_to_string</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;Value&#39;</span><span class="p">,</span>
    <span class="s1">&#39;asil&#39;</span><span class="p">:</span> <span class="s1">&#39;ASIL&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="valid-relationships">
<span id="traceability-config-relations"></span><h2>Valid relationships<a class="headerlink" href="#valid-relationships" title="Permalink to this heading">¶</a></h2>
<p>Python variable <em>traceability_relationsips</em> can be defined in order to override the
default configuration of the traceability plugin.
It is a <em>dictionary</em> of relationship pairs: the <em>key</em> is the name of the forward relationship, while the <em>value</em> holds
the name of the corresponding reverse relationship. Both can only be lowercase.</p>
<p>Relationships with prefix <em>ext_</em> are treated in a different way: they are handled as external relationships and don’t
need a reverse relationship.</p>
<p>Example of internal and external relationship pairs:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">traceability_relationships</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;validates&#39;</span><span class="p">:</span> <span class="s1">&#39;validated_by&#39;</span><span class="p">,</span>
    <span class="s1">&#39;ext_polarion_reference&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="stringification-of-relationships">
<span id="traceability-config-relation2string"></span><h2>Stringification of relationships<a class="headerlink" href="#stringification-of-relationships" title="Permalink to this heading">¶</a></h2>
<p>Python variable <em>traceability_relationship_to_string</em> can be defined in order to override the
default configuration of the traceability plugin.
It is a <em>dictionary</em> of relationship stringifications: the <em>key</em> is the name of the (forward or reverse) relationship,
while the <em>value</em> holds the string representation (as to be rendered in html) of the relationship.</p>
<p>Example of internal and external relationship stringification:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">traceability_relationship_to_string</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;validates&#39;</span><span class="p">:</span> <span class="s1">&#39;Validates&#39;</span><span class="p">,</span>
    <span class="s1">&#39;validated_by&#39;</span><span class="p">:</span> <span class="s1">&#39;Validated by&#39;</span><span class="p">,</span>
    <span class="s1">&#39;ext_polarion_reference&#39;</span><span class="p">:</span> <span class="s1">&#39;Polarion reference&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="external-relationship-to-url-translation">
<span id="traceability-config-ext2url"></span><h2>External relationship to URL translation<a class="headerlink" href="#external-relationship-to-url-translation" title="Permalink to this heading">¶</a></h2>
<p>External relationships need to be translated to URL’s while rendering. For each defined external relationship,
an entry in the <em>dictionary</em> named <em>traceability_external_relationship_to_url</em> is needed. The URL generation
is templated using the <em>fieldN</em> keyword, where N is a number incrementing from 1 onwards for each value in the URL
that needs to be replaced.</p>
<p>Example configuration of URL translation of external relationship using 2 fields:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">traceability_external_relationship_to_url</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;ext_polarion_reference&#39;</span><span class="p">:</span> <span class="s1">&#39;https://melexis.polarion.com/polarion/#/project/field1/workitem?id=field2&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="rendering-of-relationships-per-documentation-object">
<span id="traceability-config-render-relations"></span><h2>Rendering of relationships per documentation object<a class="headerlink" href="#rendering-of-relationships-per-documentation-object" title="Permalink to this heading">¶</a></h2>
<p>When rendering the documentation objects, the user has the option to include/exclude the rendering of the
relationships to other documentation objects. This can be done through the Python variable
<em>traceability_render_relationship_per_item</em> which is <em>boolean</em>: a value of <code class="docutils literal notranslate"><span class="pre">True</span></code> will enable rendering
of relationships per documentation object, while a value of <code class="docutils literal notranslate"><span class="pre">False</span></code> will disable this rendering.</p>
<p>Example configuration of enable rendering relationships per item:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">traceability_render_relationship_per_item</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
<div class="section" id="rendering-of-attributes-per-documentation-object">
<h2>Rendering of attributes per documentation object<a class="headerlink" href="#rendering-of-attributes-per-documentation-object" title="Permalink to this heading">¶</a></h2>
<p>The rendering of attributes of documentation objects can be controlled through the <em>boolean</em> variable
<em>traceability_render_attributes_per_item</em>: rendering of attributes is enabled by setting it to <code class="docutils literal notranslate"><span class="pre">True</span></code> (the default)
while a value of <code class="docutils literal notranslate"><span class="pre">False</span></code> will prevent the attribute list from being rendered.</p>
<p>Example configuration of disabling per item attribute rendering:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">traceability_render_attributes_per_item</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</div>
<div class="section" id="ability-to-collapse-the-list-of-relationships-and-attributes-per-documentation-object">
<h2>Ability to collapse the list of relationships and attributes per documentation object<a class="headerlink" href="#ability-to-collapse-the-list-of-relationships-and-attributes-per-documentation-object" title="Permalink to this heading">¶</a></h2>
<p>A button is added to each documentation object that has rendered relationships and/or attributes to be able to show and
hide these traceability links. The <em>boolean</em> configuration variable <em>traceability_collapse_links</em> allows selecting
between hiding and showing the list of links for all items on page load: setting its value to <code class="docutils literal notranslate"><span class="pre">True</span></code> results in the
list of links being hidden (collapsed) on page load, while a value of <code class="docutils literal notranslate"><span class="pre">False</span></code> results in the list being shown
(uncollapsed)(the default).</p>
<p>Example configuration of hiding the traceability links on page load:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">traceability_collapse_links</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
<div class="section" id="no-captions">
<span id="traceability-config-no-captions"></span><h2>No captions<a class="headerlink" href="#no-captions" title="Permalink to this heading">¶</a></h2>
<p>By default, the output will contain hyperlinks to all related items. By default, the caption for the target
item is displayed for each of the related items. The captions can be omitted at configuration level (see
this section) and at directive level (see e.g. <a class="reference internal" href="usage.html#traceability-usage-item-matrix"><span class="std std-ref">Traceability matrix of documentation items</span></a>).</p>
<div class="section" id="no-captions-for-item">
<h3>No captions for item<a class="headerlink" href="#no-captions-for-item" title="Permalink to this heading">¶</a></h3>
<p>Example configuration of disabling the rendering of captions on item:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">traceability_item_no_captions</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
<div class="section" id="no-captions-for-item-list">
<h3>No captions for item-list<a class="headerlink" href="#no-captions-for-item-list" title="Permalink to this heading">¶</a></h3>
<p>Example configuration of disabling the rendering of captions on item-list:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">traceability_list_no_captions</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
<div class="section" id="no-captions-for-item-matrix">
<h3>No captions for item-matrix<a class="headerlink" href="#no-captions-for-item-matrix" title="Permalink to this heading">¶</a></h3>
<p>Example configuration of disabling the rendering of captions on item-matrix:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">traceability_matrix_no_captions</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
<div class="section" id="no-captions-for-item-attributes-matrix">
<h3>No captions for item-attributes-matrix<a class="headerlink" href="#no-captions-for-item-attributes-matrix" title="Permalink to this heading">¶</a></h3>
<p>Example configuration of disabling the rendering of captions on item-attributes-matrix:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">traceability_attributes_matrix_no_captions</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
<div class="section" id="no-captions-for-item-tree">
<h3>No captions for item-tree<a class="headerlink" href="#no-captions-for-item-tree" title="Permalink to this heading">¶</a></h3>
<p>Example configuration of disabling the rendering of captions on item-tree:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">traceability_tree_no_captions</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="export">
<span id="traceability-config-export"></span><h2>Export<a class="headerlink" href="#export" title="Permalink to this heading">¶</a></h2>
<p>The plugin allows exporting the documentation items.</p>
<div class="section" id="export-to-json">
<h3>Export to JSON<a class="headerlink" href="#export-to-json" title="Permalink to this heading">¶</a></h3>
<p>As a preliminary test feature, the plugin allows to export the documentation items to a JSON database. The feature
can be enabled by setting the configuration to your JSON-file to export to. Note, the JSON-file is overwritten
(not appended) on every build of the documentation.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">traceability_json_export_path</span> <span class="o">=</span> <span class="s1">&#39;/path/to/your/database.json&#39;</span>
</pre></div>
</div>
<p>As a preliminary feature, the database only contains per documentation item:</p>
<ul class="simple">
<li><p>the id</p></li>
<li><p>the caption</p></li>
<li><p>the document name and line number</p></li>
<li><p>the attributes</p></li>
<li><p>the relations to other items</p></li>
<li><p>the MD5 hash of the content, which allows to check for changes in content when diffing 2 versions of the documentation</p></li>
</ul>
<p>The actual content (RST content with images, formulas, etc) of the item is currently not stored.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Requires sphinx &gt;= 1.6.0</p>
</div>
</div>
</div>
<div class="section" id="callback-per-item-advanced">
<span id="traceability-config-callback"></span><h2>Callback per item (advanced)<a class="headerlink" href="#callback-per-item-advanced" title="Permalink to this heading">¶</a></h2>
<div class="section" id="callback-to-modify-item">
<h3>Callback to modify item<a class="headerlink" href="#callback-to-modify-item" title="Permalink to this heading">¶</a></h3>
<p>The plugin allows parsing and modifying documentation objects <em>behind the scenes</em> using a callback. The callback
has this prototype:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">traceability_callback_per_item</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">collection</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Callback function called when an item-directive is being processed.</span>

<span class="sd">    Note: attributes, relationships and content (body) of the item can be modified. Sphinx processes each directive</span>
<span class="sd">    in turn, so attributes and relationships added or modified by other directives may not have been processed yet.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str): Name (id) of the item currently being parsed</span>
<span class="sd">        collection (TraceableCollection): Collection of all items that have been parsed so far</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The callback is executed while parsing the documentation item from your RST file. Note that not all items are
available at the time this callback executes, the <em>collection</em> parameter is a growing collection of documentation
objects.</p>
</div>
</div>
<div class="section" id="callback-to-inspect-item">
<h3>Callback to inspect item<a class="headerlink" href="#callback-to-inspect-item" title="Permalink to this heading">¶</a></h3>
<p>To overcome the limitation of <code class="docutils literal notranslate"><span class="pre">traceability_callback_per_item</span></code> (see note above), a secondary callback function can be
defined. This function will be called when <em>rendering</em> each <code class="docutils literal notranslate"><span class="pre">item</span></code>-directive. At that moment, all other directive
types, e.g. <code class="docutils literal notranslate"><span class="pre">attribute-link</span></code> and <code class="docutils literal notranslate"><span class="pre">item-link</span></code>, will have been processed. You can use this callback function to detect
and warn about any gaps in your documentation but you cannot use it to make any modifications.
The callback has this prototype:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">traceability_inspect_item</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">collection</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Callback function called when an item-directive is being rendered.</span>

<span class="sd">    Warning: the item cannot not be modified, only inspected.</span>

<span class="sd">    Note: At this stage of the documentation build, all directives, e.g. attribute-link and item-link,</span>
<span class="sd">    have been processed and any gaps in your documentation can be exposed by reporting a warning.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str): Name (id) of the item currently being parsed</span>
<span class="sd">        collection (TraceableCollection): Collection of all items that have been parsed so far</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The collection should not be modified, only inspected. Modifying the collection in this step can corrupt it without
triggering any warnings.</p>
</div>
</div>
<div class="section" id="example-of-requiring-certain-attributes-on-an-item">
<span id="traceability-optional-mandatory"></span><h3>Example of requiring certain attributes on an item<a class="headerlink" href="#example-of-requiring-certain-attributes-on-an-item" title="Permalink to this heading">¶</a></h3>
<p>The callback function can modify traceable items, e.g. add attributes. In this example it reports a warning
when the item doesn’t have either the <cite>functional</cite> or <cite>non-functional</cite> attribute defined <em>at the time its
``item``-directive is being processed</em>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mlx.traceability</span> <span class="kn">import</span> <span class="n">report_warning</span>

<span class="k">def</span> <span class="nf">traceability_callback_per_item</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">collection</span><span class="p">):</span>
    <span class="n">item</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">((</span><span class="s1">&#39;functional&#39;</span> <span class="ow">in</span> <span class="n">item</span><span class="o">.</span><span class="n">attributes</span><span class="p">)</span> <span class="o">^</span> <span class="p">(</span><span class="s1">&#39;non_functional&#39;</span> <span class="ow">in</span> <span class="n">item</span><span class="o">.</span><span class="n">attributes</span><span class="p">)):</span>
        <span class="n">report_warning</span><span class="p">(</span><span class="s2">&quot;Requirement item </span><span class="si">{!r}</span><span class="s2"> must have either the &#39;functional&#39; or &#39;non_functional&#39; attribute; &quot;</span>
                       <span class="s2">&quot;adding &#39;functional&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">),</span> <span class="n">docname</span><span class="o">=</span><span class="n">item</span><span class="o">.</span><span class="n">docname</span><span class="p">,</span> <span class="n">lineno</span><span class="o">=</span><span class="n">item</span><span class="o">.</span><span class="n">lineno</span><span class="p">)</span>
        <span class="n">item</span><span class="o">.</span><span class="n">add_attribute</span><span class="p">(</span><span class="s1">&#39;functional&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="custom-colors-for-linked-items">
<span id="traceability-config-link-colors"></span><h2>Custom colors for linked items<a class="headerlink" href="#custom-colors-for-linked-items" title="Permalink to this heading">¶</a></h2>
<p>The plugin allows customization of the colors of traceable items in order to easily recognize the type of item which is
linked to. A dictionary in the configuration file defines the regexp, which is used to <a class="reference external" href="https://docs.python.org/3/library/re.html#re.search">search</a> item IDs, as key and a
tuple of 1-3 color defining strings as value. The first color is used for the default hyperlink state, the second color
is used for the hover and active states, and the third color is used to override the default color of the visited state.
Leaving a color empty results in the use of the default html style. The top regexp has the highest priority. To support
Python versions lower than 3.7, we use an <code class="code docutils literal notranslate"><span class="pre">OrderedDict</span></code> to have a deterministic order for prioritizing regexes.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In version 9.0.0, the regular expressions in <cite>traceability_hyperlink_colors</cite> will be used to <a class="reference external" href="https://docs.python.org/3/library/re.html#re.match">match</a> item IDs
instead of <a class="reference external" href="https://docs.python.org/3/library/re.html#re.search">search</a>. This way, all regexes will be handled the same way by this plugin.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">traceability_hyperlink_colors</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">([</span>
    <span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^(RQT|r[\d]+&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;#7F00FF&#39;</span><span class="p">,</span> <span class="s1">&#39;#b369ff&#39;</span><span class="p">)),</span>
    <span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^[IU]TEST_REP&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;rgba(255, 0, 0, 1)&#39;</span><span class="p">,</span> <span class="s1">&#39;rgba(255, 0, 0, 0.7)&#39;</span><span class="p">,</span> <span class="s1">&#39;rgb(200, 0, 0)&#39;</span><span class="p">)),</span>
    <span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^[IU]TEST&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;goldenrod&#39;</span><span class="p">,</span> <span class="s1">&#39;hsl(43, 62%, 58%)&#39;</span><span class="p">,</span> <span class="s1">&#39;darkgoldenrod&#39;</span><span class="p">)),</span>
    <span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^SYS_&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;springgreen&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)),</span>
    <span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^SRS_&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)),</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
<div class="section" id="mapping-of-undefined-references">
<span id="traceability-notifications"></span><h2>Mapping of undefined references<a class="headerlink" href="#mapping-of-undefined-references" title="Permalink to this heading">¶</a></h2>
<p>Undefined references can be mapped to a special item, e.g. to explain to the reader why the reference is undefined.
In the example below the special item has ID <em>DOC-NOTIFICATION</em>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">traceability_notifications</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;undefined-reference&#39;</span><span class="p">:</span> <span class="s1">&#39;DOC-NOTIFICATION&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="default-config">
<span id="traceability-default-config"></span><h2>Default config<a class="headerlink" href="#default-config" title="Permalink to this heading">¶</a></h2>
<p>The plugin itself holds a default config that can be used for any traceability documenting project:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">traceability_callback_per_item</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">traceability_attributes</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;^.*$&#39;</span><span class="p">,</span>
    <span class="s1">&#39;asil&#39;</span><span class="p">:</span> <span class="s1">&#39;^(QM|[ABCD])$&#39;</span><span class="p">,</span>
    <span class="s1">&#39;aspice&#39;</span><span class="p">:</span> <span class="s1">&#39;^[123]$&#39;</span><span class="p">,</span>
    <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="s1">&#39;^.*$&#39;</span><span class="p">,</span>
    <span class="s1">&#39;result&#39;</span><span class="p">:</span> <span class="s1">&#39;(?i)^(pass|fail|error)$&#39;</span>
    <span class="s1">&#39;attendees&#39;</span><span class="p">:</span> <span class="s1">&#39;^([A-Z]</span><span class="si">{3}</span><span class="s1">[, ]*)+$&#39;</span><span class="p">,</span>
    <span class="s1">&#39;assignee&#39;</span><span class="p">:</span> <span class="s1">&#39;^.*$&#39;</span><span class="p">,</span>
    <span class="s1">&#39;effort&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;^([\d\.]+(mo|[wdhm]) ?)+$&#39;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">traceability_attribute_to_string</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;Value&#39;</span><span class="p">,</span>
    <span class="s1">&#39;asil&#39;</span><span class="p">:</span> <span class="s1">&#39;ASIL&#39;</span><span class="p">,</span>
    <span class="s1">&#39;aspice&#39;</span><span class="p">:</span> <span class="s1">&#39;ASPICE&#39;</span><span class="p">,</span>
    <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="s1">&#39;Status&#39;</span><span class="p">,</span>
    <span class="s1">&#39;result&#39;</span><span class="p">:</span> <span class="s1">&#39;Result&#39;</span><span class="p">,</span>
    <span class="s1">&#39;attendees&#39;</span><span class="p">:</span> <span class="s1">&#39;Attendees&#39;</span><span class="p">,</span>
    <span class="s1">&#39;assignee&#39;</span><span class="p">:</span> <span class="s1">&#39;Assignee&#39;</span><span class="p">,</span>
    <span class="s1">&#39;effort&#39;</span><span class="p">:</span> <span class="s1">&#39;Effort estimation&#39;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">traceability_relationships</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;fulfills&#39;</span><span class="p">:</span> <span class="s1">&#39;fulfilled_by&#39;</span><span class="p">,</span>
    <span class="s1">&#39;depends_on&#39;</span><span class="p">:</span> <span class="s1">&#39;impacts_on&#39;</span><span class="p">,</span>
    <span class="s1">&#39;implements&#39;</span><span class="p">:</span> <span class="s1">&#39;implemented_by&#39;</span><span class="p">,</span>
    <span class="s1">&#39;realizes&#39;</span><span class="p">:</span> <span class="s1">&#39;realized_by&#39;</span><span class="p">,</span>
    <span class="s1">&#39;validates&#39;</span><span class="p">:</span> <span class="s1">&#39;validated_by&#39;</span><span class="p">,</span>
    <span class="s1">&#39;trace&#39;</span><span class="p">:</span> <span class="s1">&#39;backtrace&#39;</span><span class="p">,</span>
    <span class="s1">&#39;ext_toolname&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">traceability_relationship_to_string</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;fulfills&#39;</span><span class="p">:</span> <span class="s1">&#39;Fulfills&#39;</span><span class="p">,</span>
    <span class="s1">&#39;fulfilled_by&#39;</span><span class="p">:</span> <span class="s1">&#39;Fulfilled by&#39;</span><span class="p">,</span>
    <span class="s1">&#39;depends_on&#39;</span><span class="p">:</span> <span class="s1">&#39;Depends on&#39;</span><span class="p">,</span>
    <span class="s1">&#39;impacts_on&#39;</span><span class="p">:</span> <span class="s1">&#39;Impacts on&#39;</span><span class="p">,</span>
    <span class="s1">&#39;implements&#39;</span><span class="p">:</span> <span class="s1">&#39;Implements&#39;</span><span class="p">,</span>
    <span class="s1">&#39;implemented_by&#39;</span><span class="p">:</span> <span class="s1">&#39;Implemented by&#39;</span><span class="p">,</span>
    <span class="s1">&#39;realizes&#39;</span><span class="p">:</span> <span class="s1">&#39;Realizes&#39;</span><span class="p">,</span>
    <span class="s1">&#39;realized_by&#39;</span><span class="p">:</span> <span class="s1">&#39;Realized by&#39;</span><span class="p">,</span>
    <span class="s1">&#39;validates&#39;</span><span class="p">:</span> <span class="s1">&#39;Validates&#39;</span><span class="p">,</span>
    <span class="s1">&#39;validated_by&#39;</span><span class="p">:</span> <span class="s1">&#39;Validated by&#39;</span><span class="p">,</span>
    <span class="s1">&#39;trace&#39;</span><span class="p">:</span> <span class="s1">&#39;Traces&#39;</span><span class="p">,</span>
    <span class="s1">&#39;backtrace&#39;</span><span class="p">:</span> <span class="s1">&#39;Backtraces&#39;</span><span class="p">,</span>
    <span class="s1">&#39;ext_toolname&#39;</span><span class="p">:</span> <span class="s1">&#39;Reference to toolname&#39;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">traceability_external_relationship_to_url</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;ext_toolname&#39;</span><span class="p">:</span> <span class="s1">&#39;http://toolname.company.com/field1/workitem?field2&#39;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">traceability_render_relationship_per_item</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>This default configuration, which is built into the plugin, can be overridden through the conf.py of your project.</p>
<p>For Melexis.SWCC silicon projects, the SWCC process holds a default configuration in the <em>config/traceability_config.py</em>
file. For each of the above configuration variables, the default configuration file holds a variable with <em>swcc_</em>
prefix. Taking the default configuration is as easy as assiging the above configuration value with the <em>swcc_</em> variable.
Overriding a configuration is as easy as assigning your own values to a configuration value.</p>
<p>Example of accepting default configuration for relationships, while disabling (override) rendering of relationships
per documentation object:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s1">&#39;&lt;path_to_process_submodule&gt;/config&#39;</span><span class="p">))</span>

<span class="kn">from</span> <span class="nn">traceability_config</span> <span class="kn">import</span> <span class="n">swcc_traceability_attributes</span>
<span class="kn">from</span> <span class="nn">traceability_config</span> <span class="kn">import</span> <span class="n">swcc_traceability_relationships</span>
<span class="kn">from</span> <span class="nn">traceability_config</span> <span class="kn">import</span> <span class="n">swcc_traceability_relationship_to_string</span>

<span class="n">traceability_attributes</span> <span class="o">=</span> <span class="n">swcc_traceability_attributes</span>
<span class="n">traceability_relationships</span> <span class="o">=</span> <span class="n">swcc_traceability_relationships</span>
<span class="n">traceability_relationship_to_string</span> <span class="o">=</span> <span class="n">swcc_traceability_relationship_to_string</span>
<span class="n">traceability_render_relationship_per_item</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="usage.html" class="btn btn-neutral float-right" title="Usage" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2017, Melexis.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>